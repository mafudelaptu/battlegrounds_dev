<?php if(!empty($data) && count($data) > 0): ?> <?php foreach($data as $k => $v): ?> <?php $highlighAdmin = ""; ?> <?php if($v['admin']): ?> <?php if(!isset($v['avatar'])){ $v['avatar'] = ""; } $highlighAdmin = "bg_danger"; ?> <?php endif; ?> <div class="<?php echo $highlighAdmin; ?> <?php echo $chatname; ?>userInChat"> <span class="userChatName"> <?php echo $__env->make("prototypes.username", array("username"=>$v['name'], "avatar"=>$v['avatar'], "user_id"=>$k, "truncateValue" => 15, "link" => false, "avatarWidth"=>"22"), array_except(get_defined_vars(), array('__data', '__path')))->render(); ?> </span> <?php if(Auth::user()->id != $k): ?> <span class="userChatMenu hide"> <div class="btn-group btn-group-xs"> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> <?php echo $__env->make("icons.chatUserMenu", array_except(get_defined_vars(), array('__data', '__path')))->render(); ?> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <?php if(!array_key_exists($k.Auth::user()->id, $rooms) && !array_key_exists(Auth::user()->id.$k, $rooms)): ?> <li><a href="javascript:void(0)" data-name="<?php echo $v['name']; ?>" data-avatar="<?php echo $v['avatar']; ?>" data-id="<?php echo $k; ?>" class="whisper">Whisper</a></li> <?php endif; ?> <li class="divider"></li> <li><a href="profile/<?php echo $k; ?>" target="_blank">show Arena-Profile</a></li> <?php if($isSteamGame): ?> <li><a href="http://steamcommunity.com/profiles/<?php echo $k; ?>" target="_blank">show Steam-Profile</a></li> <?php endif; ?> </ul> </div> </span> <?php endif; ?> </div> <?php endforeach; ?> <?php else: ?> <div class="alert alert-warning"> no users in chat </div> <?php endif; ?>